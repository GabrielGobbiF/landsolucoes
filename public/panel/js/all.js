function initTable(){const e=$('meta[name="js-base_url_api"]').attr("content"),t=$('meta[name="js-base_url"]').attr("content"),a=$('meta[name="url"]').attr("content"),o=$("#table-api");var n=o.attr("data-table"),l=o.attr("order"),s={};if($("#preloader-content").remove(),$(".table-api").append(preload()),$.each($(".search-input"),(function(){null!=$(this).attr("name")&&(s[$(this).attr("name")]=$(this).val()??"")})),o.length>0){var i=null==o.attr("data-paginate"),r=null==o.attr("data-export"),c=null==o.attr("data-collums"),d=(o.attr("data-click-select"),null!=o.attr("data-target")),m=o.attr("data-click");o.bootstrapTable("refreshOptions",{locale:"pt-BR",method:"get",url:`${e}${n}`,dataType:"json",classes:"table table-hover table-striped",pageList:"[10, 25, 50, 100, all]",cookie:!0,cache:!0,search:!0,showExport:r,showColumns:c,idField:"id",toolbar:"#toolbar",buttonsClass:"dark",showColumnsToggleAll:!0,pageSize:20,cookieIdTable:n,queryParamsType:"all",striped:!0,pagination:i,sidePagination:"server",pageNumber:1,cookiesEnabled:"['bs.table.sortOrder', 'bs.table.sortName', 'bs.table.columns', 'bs.table.searchText', 'bs.table.filterControl']",mobileResponsive:!0,queryParams:function(e){return{sort:e.sortName??l,order:e.sortOrder,search:e.searchText,page:e.pageNumber,pageSize:i?e.pageSize:"all",filter:s??{}}},responseHandler:function(e){return{total:e.meta?e.meta.total:null,rows:e.data}},onClickCell:function(e,o,n,l){"false"!=m&&"statusButton"!=e&&(d?window.open(`${t}${a}/${n.id}`,"_blank"):window.location.href=`${t}${a}/${n.id}`)},onLoadSuccess:function(){$("#preloader-content").remove(),$(".table-responsive").removeClass("d-none")}})}$(".search-input .modify").on("change",(function(){initTable()}))}function preload(){return'<div class="text-center" id="preloader-content">    <div class="spinner-border text-primary m-1 align-self-center" role="status">        <span class="sr-only"></span>    </div></div>'}function resetDiv(){$(".acompanhamentoOrCurso").removeClass("d-none"),$(".table-mensal").addClass("d-none"),$(".table-epi").addClass("d-none")}jQuery((function(){"use strict";initTable()})),function(e){"use strict";console.log("init helpers");e('meta[name="js-base_url_api"]').attr("content");Dropzone.autoDiscover=!1,e(".js-btn-delete").on("click",(function(){var t='<div class="modal fade effect-scale" id="modal-confirm-delete" tabindex="-1" role="dialog" aria-hidden="true">';t+='       <div class="modal-dialog modal-dialog-centered modal-sm" role="document">',t+='           <div class="modal-content">',t+='               <div class="modal-header">',t+='                   <h6 class="modal-title"></h6>',t+='                   <button type="button" class="close" data-dismiss="modal" aria-label="Close">',t+='                       <i class="fa fa-times"></i>',t+="                   </button>",t+="               </div>",t+='               <div class="modal-body">',t+='                   <p class="mg-b-0 modal-text-body"></p>',t+="               </div>",t+='               <div class="modal-footer">',t+='                   <button type="button" id="modal-cancel" class="btn btn-secondary" data-dismiss="modal">Cancel</button>',t+='                      <form id="form-delete" role="form" class="needs-validation" action="" method="POST">',t+=`                          <input type="hidden" name="_token" value="${e('meta[name="csrf-token"]').attr("content")}"> `,t+='                          <input type="hidden" name="_method" value="DELETE"> ',t+='                          <button type="submit" id="modal-confirm"',t+='                              data-btn-text="Deletando" ',t+='                              class="btn btn-danger ',t+='                              btn-submit modal-btn-danger"> ',t+="                              Deletar",t+="                          </button>",t+="                      </form>",t+="               </div>",t+="           </div>",t+="       </div>",t+="</div>",e("body").append(t);var a=e("#modal-confirm-delete"),o=e(this).attr("data-href"),n=e(this).attr("data-text");null!=n&&(a.find(".modal-title").html(`${n}`),a.find(".btn-danger").html(`<i class="fas fa-exclamation-circle"></i> ${n}`),a.find(".modal-text-body").html(`Tem certeza que deseja ${n}?`)),a.find("#form-delete").attr("action",o),a.modal("show"),a.on("hidden.bs.modal",(function(){a.remove()}))})),e(".date").mask("00/00/0000"),e(".money").mask("000.000.000.000.000,00",{reverse:!0}),e(".rg").mask("00000000-0"),e(".cnpj").mask("00.000.000/0000-00"),e(".date_time").mask("00/00/0000 00:00"),e(".game_type").mask("0v0"),e(".phone").mask("(00)  0000-0000");var t=function(e){return 11===e.replace(/\D/g,"").length?"(00) 00000-0000":"(00) 0000-00009"},a={onKeyPress:function(e,a,o,n){o.mask(t.apply({},arguments),n)}};e(".sp_celphones").mask(t,a),toastr.options={closeButton:!1,debug:!1,newestOnTop:!1,progressBar:!0,positionClass:"toast-bottom-center",preventDuplicates:!1,onclick:null,showDuration:"300",hideDuration:"800",timeOut:"3000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"},e(".btn-change").on("click",(function(){var t=e(this).data("href");e("#modal-change").modal("show"),e("#documento_id").val(t),e("#modal-confirm").on("click",(function(){""==e("#reason").val()?toastr.error("Motivo é obrigatorio"):""==e("#file_document_change").val()?toastr.error("Documento é obrigatorio"):e("#form_change").submit()}))})),(null==localStorage.getItem("nav-tabs_employee")||null==localStorage.getItem("nav-tabs_employee"))&&localStorage.setItem("nav-tabs_employee","dados-tab");var o=localStorage.getItem("nav-tabs_employee"),n=o.replace("-tab","");e(".nav-link_employee").removeClass("active"),e("#"+o).addClass("active"),e(".tab-pane_employee").removeClass("show active"),e("#"+n).addClass("show active"),e(".nav-link_employee").on("click",(function(){var t=e(this).attr("id");localStorage.setItem("nav-tabs_employee",t),e(".nav-link_employee").removeClass("active"),e(".tab-pane_employee").removeClass("show active");var a=t.replace("-tab","");e("#"+a).addClass("show active"),e("#"+t).addClass("active")})),(null==localStorage.getItem("nav-link_auditory")||null==localStorage.getItem("nav-link_auditory"))&&localStorage.setItem("nav-link_auditory","v-pills-entrevista-tab");var l=localStorage.getItem("nav-link_auditory"),s=l.replace("-tab","");e(".nav-link_auditory").removeClass("active"),e("#"+l).addClass("active"),e(".tab-pane_auditory").removeClass("show active"),e("#"+s).addClass("show active"),e(".nav-link_auditory").on("click",(function(){var t=e(this).attr("id");localStorage.setItem("nav-link_auditory",t),e(".nav-link_auditory").removeClass("active"),e(".tab-pane_auditory").removeClass("show active");var a=t.replace("-tab","");e("#"+a).addClass("show active"),e("#"+t).addClass("active"),resetDiv()})),e(".nav-header").on("click",(function(){localStorage.setItem("nav-tabs_employee","dados-tab"),localStorage.setItem("nav-link_auditory","v-pills-entrevista-tab")})),"documentos-tab"==window.location.hash&&e("#myTab_employee #documentos-tab").tab("show"),e(".back").on("click",(function(){e(".acompanhamentoOrCurso").removeClass("d-none"),e(".table-mensal").addClass("d-none"),e(".table-epi").addClass("d-none")})),e("#cnh_check").on("change",(function(){e(this).is(":checked")?(e(".div--cnh_number").removeClass("d-none"),e(".div--cnh_validity").removeClass("d-none")):(e("#input--cnh_number").val(""),e(".div--cnh_number").addClass("d-none"),e(".div--cnh_validity").addClass("d-none"))})),e("#cursos_employee").bootstrapDualListbox({filterTextClear:"mostrar todos",filterPlaceHolder:"Filtar",moveSelectedLabel:"Move selected",moveAllLabel:"Mover todos",removeSelectedLabel:"Remover selecionados",removeAllLabel:"Remover todos",moveOnSelect:!0,preserveSelectionOnMove:!1,selectedListLabel:!1,nonSelectedListLabel:!1,helperSelectNamePostfix:"_helper",selectorMinimalHeight:300,showFilterInputs:!0,nonSelectedFilter:"",selectedFilter:"",infoText:"Todos {0}",infoTextFiltered:'<span class="badge badge-warning">Filtrar</span> {0} from {1}',infoTextEmpty:"Lista vazia",sortByInputOrder:!1,filterOnValues:!1,eventMoveOverride:!1,eventMoveAllOverride:!1,eventRemoveOverride:!1,eventRemoveAllOverride:!1,btnClass:"btn-outline-secondary",btnMoveText:"&gt;",btnRemoveText:"&lt;",btnMoveAllText:"&gt;&gt;",btnRemoveAllText:"&lt;&lt;"}),e(".js-btn-confirm").on("click",(function(t){t.preventDefault();const a=e(this);(click++,a.html('<i class="fa fa-exclamation-circle"></i>'),a.addClass("js-click-to-confirm"),2==click)&&a.closest("form").submit();clearTimeout(timeButtonConfirm),timeButtonConfirm=setTimeout((function(){a.html('<i class="fa fa-trash"></i>'),a.removeClass("js-click-to-confirm"),click=0}),1900)}))}(jQuery);const txHeight=50,tx=document.getElementsByTagName("textarea");for(let e=0;e<tx.length;e++)""==tx[e].value?tx[e].setAttribute("style","height:50px;overflow-y:hidden;"):tx[e].setAttribute("style","height:"+tx[e].scrollHeight+"px;overflow-y:hidden;");for(var elements=document.getElementsByClassName("btn-submit"),formSubmit=function(){var e=this.closest("form"),t=!0,a=this.getAttribute("data-btn-text"),o=this.innerHTML;a=null!=a?a:"Salvando...",this.innerHTML=`<i class='fa fa-spinner fa-spin'></i> ${a}`,this.disabled=!0,$.each(e.elements,(function(e,a){""===a.value&&a.hasAttribute("required")&&(a.classList.add("is-invalid"),t=!1),a.addEventListener("keyup",(e=>{""!=e.value&&a.classList.remove("is-invalid")}))})),t?e.submit():(this.innerHTML=o,this.disabled=!1)},i=0;i<elements.length;i++)elements[i].addEventListener("click",formSubmit,!1);function axiosCath(){return'<div class="text-center"><a onclick="location.reload()" class="btn btn-sm btn-danger"><i class="fas fa-redo-alt"></i> ERROR - Recarregar</a> </div>'}function limpa_formulário_cep(){document.getElementById("input--street").value="",document.getElementById("input--district").value="",document.getElementById("input--city").value="",document.getElementById("input--state").value=""}function meu_callback(e){"erro"in e?limpa_formulário_cep():(document.getElementById("input--street").value=e.logradouro,document.getElementById("input--district").value=e.bairro,document.getElementById("input--city").value=e.localidade,document.getElementById("input--state").value=e.uf)}function pesquisacep(e){var t=e.replace(/\D/g,"");if(""!=t){if(/^[0-9]{8}$/.test(t)){document.getElementById("input--street").value="consultando";var a=document.createElement("script");a.src="//viacep.com.br/ws/"+t+"/json/?callback=meu_callback",document.body.appendChild(a)}else limpa_formulário_cep()}else limpa_formulário_cep()}const selectAxOption=e=>({valueField:"id",labelField:"name",searchField:"name",load:function(t,a){var o=`${base_url_api}${e}?search=`+encodeURIComponent(t);fetch(o).then((e=>e.json())).then((e=>{a(e.data)})).catch((()=>{a()}))}}),newSelect=e=>{let t={persist:!1,createOnBlur:!1,create:!!e.dataset.create,openOnFocus:!0};(request=e.dataset.request)&&(t=Object.assign(t,selectAxOption(request))),new TomSelect(e,t)};document.querySelectorAll(".t-select").forEach((e=>{newSelect(e)}));
